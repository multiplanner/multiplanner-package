let input, sarcasm, i, length;
let ff = true;
let textbox = document.getElementById("input");
let slider = document.getElementById("randomslider");
let maxemojibox = document.getElementById("maxemojis");

let maxemojis = 1;

const styles = [
    {
        letters: ["áµƒ", "áµ‡", "á¶œ", "áµˆ", "áµ‰", "á¶ ", "áµ", "Ê°", "â±", "Ê²", "áµ", "Ë¡", "áµ", "â¿", "áµ’", "áµ–", "áµ ", "Ê³", "Ë¢", "áµ—", "áµ˜", "áµ›", "Ê·", "Ë£", "Ê¸", "á¶»"],
        numbers: ["â°", "Â¹", "Â²", "Â³", "â´", "âµ", "â¶", "â·", "â¸", "â¹"]
    }, {
        letters: ["ð”¸", "ð”¹", "â„‚", "ð”»", "ð”¼", "ð”½", "ð”¾", "â„", "ð•€", "ð•", "ð•‚", "ð•ƒ", "ð•„", "â„•", "ð•†", "â„™", "â„š", "â„", "ð•Š", "ð•‹", "ð•Œ", "ð•", "ð•Ž", "ð•", "ð•", "â„¤"],
        numbers: ["ðŸ˜", "ðŸ™", "ðŸš", "ðŸ›", "ðŸœ", "ðŸ", "ðŸž", "ðŸŸ", "ðŸ ", "ðŸ¡"]

    }, {
        letters: ["AÌµÌ„ÍÌ•ÍƒÌ’ÌšÌŠÍ•Ì©", "Ì¸Ì•Í†Ì½Í—Ì›Í€Ì‘Ì¿Ì’Í€Ì¥Ì™Ì–Ì§Ì­BÌ¸Ì…Ì¾Ì±Ìž", "Ì·Í˜ÌŠÌÌ•Ì˜Í•Ì«ÌœÌ˜CÌ·Ì€Í€ÍÌ•Ì†ÌƒÍ„ÍŠÌ¬Ì¡Ì£", "Ì·ÌÌÌ£Ì§Ì®Ì¼ÍÌºÌ»Ì¯ÌDÌ´Ì”Ì›ÍƒÍ„Í‹Ì•ÌŒÍ€Í Ì”Ì¥ÍŽÌ—ÍÌ«Ì£ÍÌ¨Í•", "Ì´ÌƒÌŒÍ‹Ì“Ì…Ì¦Ì£EÌ´Ì¾Ì”Ì‹Ì‘ÍŠÌ©ÍŽÌœÍˆÌ³ÍœÌºÌ¤Ì£", "ÌµÍ„Ì„Ì‚Ì¢ÌºFÌ¶Í’Í‚Ì—ÌÌ—Í…Ì«", "Ì·Ì„Í—ÌƒÍŒÍ’Í„ÌˆÍŒÌ“Ì¿Ì¤Í…ÌºGÌ¶ÌšÌ’Ì¿ÌƒÌ•Í›ÌžÍ‰Ì¦Ì£Í‰ÌŸÍ‡Ì£Ì£Ìœ", "Ì·ÌšÌÍÌ§Ì™ÍŽÌ—HÌ·Ì‹Í„Ì¾ÌƒÍ†ÍŒÌ‡ÍƒÍ€Í–Í‡", "Ì·Ì…Ì›Ì¾ÍÌ†ÍŠÍ„Í”IÌ¸ÍÍ—Í…Ì©Ì¥Ì»Ì±Ì©Í–Ì¤Í•", "Ì·Í„ÍÍ€Í˜ÌÍ„Í‘ÌÌ—ÌÍ•JÌ¸Ì…Ì“Í‘ÌˆÍÍ›Ì‹Ì½Ì„Ì£Ì™Ì§Ì­Ì¤Ì¬Ì™Ì—", "Ì¸Ì‚Í‚ÍÍ˜Ì„Ì€ÌÌ¿ÌƒÍ‚Í–Ì–Í…Ì¹Ì¨Í•KÌµÌ“Ì“ÌŒÍ„Í‘ÍƒÌ…Ì‡Ì Ì–Í…Ì¯Í‡Ì–Ì Ì»", "Ì·Í—Í˜Í‘ÌÌ¿Ì‚Í„Ì—Ì°Í™Ì­Ì˜LÌ·Ì“ÍÌšÌ‚Ì†ÍÌœÍœÍ‡ÌžÌ¡Ì£ÍœÌ³", "Ì¸Í€Í‹Ì…Ì‡ÌŽÌ“Í•Í‰ÍˆÌ™Ì¥Ì¦ÍÌ°Ì°MÌ¶Ì“Í„Ì‘Ì’Ì„Ì€ÌªÌ¡Ì¤Ì²ÍœÌ¯Ì—", "Ì¶Ì›ÌŠÌÍÍ†Ì•Ì½Ì¹Ì«Ì™Ì¡ÌžNÌ¸Ì„Ì¬Ì¤Ì–Í‰Ì—Ì—Ì¯Í”", "Ì¸Ì‚ÌšÌ„Í˜Ì†Í„Ì”ÌšÌ‡ÌÍÍ–ÍŽÌ¦ÍˆOÌ´Ì‡Ì‹Ì…Ì•Ì½Ì†ÍÍ—ÍœÌ ÌªÌ«Ì™Í“ÍˆÌŸÌž", "Ì·ÌÌ‰Ì…Í‚ÍÍ„Í›Ì¥Í•Ì»Í‡PÌ¶ÌšÍ‘ÌŠÍÌ€ÍÌ ÍšÍ–Í™Ì¹ÌÍœÌ¥", "Ì´ÌŽÌ½Ì”Ì¡Í™Ì©Ì¯Ì–Ì°Ì¹QÌµÌŠÍŠÍ‹ÍÌ‡ÌªÌ£", "Ì¸Ì†Ì‹Í’Ì‹Ì£ÌÍŽRÌ´Í†Ì‰ÍÌ’Ì›ÍŠÌŒÌ²Ì©Ì¨Í‰Í‰Í…Í“Ì¨", "Ì·Ì“Í”SÌ·ÌÍÍÍ˜ÍšÌ¬ÌžÌ®ÍˆÌ®Í…Ì±Ì¢Ì­", "Ì´Ì†Í Ì‹Í Í†Í Í Ì“Í†Í’ÌÌ¨Ì–TÌ¶Ì›Ì¾Í˜ÌªÌ—Ì¨", "Ì·ÌÌ‡ÌƒÌ”Ì‹Í‘Ì¤ÍšÍ•Ì¯Ì®Ì¤Ì¯Ì±Ì©Ì­UÌµÍÍŠÌ¤ÌºÌ¡Ì®Ì©", "ÌµÌÍ‚Ì”ÌŒÌ„ÌˆÍŒÍ‚Ì‹Ì¿Ì¨Ì™Ì«Ì±Ì§VÌµÌ½Ì“Í†ÌÌ®Ì¹", "Ì´Ì¿Í„Ì‡Ì•Í†Í˜Ì’Ì–WÌ·ÌÍ˜Ì¾Í€ÌˆÌ±Ì¨ÌºÌªÌ¤Ì¡", "Ì¶ÌÌ…ÍÍÌŸÌ­ÌœÍ‡ÌœÌ¢XÌ´Ì‰Í Ì‰Í‹Í†Ì¯ÌŸÌ Í‡Ì—Ì—Ì³Ì³Í”", "Ì´ÍŠÍÌ¬ÍˆÌ»Ì£Ì§Ì–YÌ´ÌÌ’Í’Í€Ì•ÌšÍ‹Ì€Í„Ì­Ì¯ÍœÍ–Ì¡Ì–Í…ÌžÌ¨Ì¡", "Ì´Í€Í€Ì”Í‡ÌÍ•Í™ÍŽÌ°Í”Ì–ZÌ¸ÌˆÌÌ©Ì°ÍÌ–Ì¥Ì¨"],
        numbers: ["Ì¶Ì½Í‹Í›Ì•Ì–Ìž0Ì¸Í€Í†Ì“ÌÌ…ÌƒÌ’Í‡ÌœÌ¥Ì²Ì¥Ì—Ì«Ì«", "Ì·Í€ÍÌŠÍ ÍŠÌ›Ì€Ì‰ÍÌ¡Ì¯Í”ÌŸÍ•Ì¼1Ì·Ì†ÍÌ‰Í’Í‡Í•Íœ", "Ì¶Ì‹Ì‚Ì°Ì¥Í™Í•Ì—2Ì·Í‘ÌŒÌ¿ÌšÍ‘Í€Í Ì‚Ì¦ÍˆÌ¬Ì»", "Ì¶Í„ÍÌŽÍ›Ì€Ì›Í„Í„ÍÌ¥Ì¯Ìº3Ì·ÍÍ‘Ì¦Í…Ì»Í”", "Ì¶Ì‹ÌšÌ“Í’Í‚Ì›ÌÌ»Ì¤Ìº4Ì´Í€ÌˆÌ‡Í€ÍÌ‰Ì¿ÌÍ”Ì—", "Ì´ÌÌ„ÌŒÌ›Ì„Ì¾Ì‚Ì’ÌšÌžÌœÌ«Ì²Ì²Ì²Ì—5Ì¶ÌšÌ‡Ì¬Ì®Ì£Ì˜Í”ÌžÌ¨Ì«", "ÌµÌ›ÍƒÌ‰Ì¾Ì€Ì‚Ì¹Ì™Ì»ÌªÌºÌ«6Ì´Ì’ÌŠÍ‘Í Ì„Ì§ÍŽÌžÍ–ÌÌ«Ì¡Í‰Ì™", "Ì·Í€Ì€ÌˆÍŠÌÌˆÌ£Ì»Ì ÌªÌ§Ì¹ÍˆÍ“Ì™7Ì¶Ì”Ì‚Í—ÌŠÌ¾Ì‹Ì†Ì§Í…ÍÍ”", "Ì´Ì”ÌŽÌšÍ˜Ì‹ÌƒÌ½ÍÌ‘ÌˆÍœÍ…Ì–Ì§ÌªÍ‡Ìœ8Ì¶Ì„Í†Í‘ÍƒÌ¿Ì‘Ì”Í›Ì¤ÌžÌ—Ì˜Í–Ì˜Ì—Ì¦", "Ì´Í‹Í€Ìœ9Ì¸Ì“Í€Ì²"]
    }
]

function getEmoji(keyword) {
    let candidates = emoji.filter(
        (entry) => entry[1].join(" ").indexOf(keyword.toLowerCase()) >= 0
    );
    if (candidates.length > 0) {
        let a = "";
        for (let i = 0; i < maxemojis && i < candidates.length; i++)
            a += candidates[i][0];
        return a;
    } else return " ";
}

function update() {
    sarcasm = "";
    small = "";

    let sarcasmAmount = slider.value / 100;
    let input = textbox.value;
    length = input.length;
    maxemojis = maxemojibox.value;

    let withEmoji = input.split(" ");
    withEmoji = withEmoji.map((word) => word + getEmoji(word));

    let styled = "";
    styles.forEach(style => {
        styled += input
            .split("")
            .map((char) => {
                if (/([a-zA-Z])/.test(char)) {
                    return style.letters[
                        char.toLowerCase().charCodeAt(0) - 97
                    ];
                } else if (/([0-9])/.test(char)) {
                    return style.numbers[char];
                } else return char;
            })
            .join("") + "<br>";
    });

    document.getElementById("sarcasm").innerHTML = input.split("").map((char, index) => index % 2 == 0 ? char.toLowerCase() : char.toUpperCase()).join("");
    document.getElementById("styles").innerHTML = styled;
    document.getElementById("monospace").innerHTML = input.toUpperCase().split("").join(" ");
    document.getElementById("emoji").innerHTML = withEmoji.join(" ");
    document.getElementById("uwu").innerHTML = input.replace(/[prl]/g, "w");
}
